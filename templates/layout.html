<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" sizes="192x192" href="{{ url_for('static', filename='images/logo.png') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='images/logo.png') }}">

    <link crossorigin="anonymous"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          rel="stylesheet">
    <script crossorigin="anonymous"
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">

    <title>Accountantzijn.nl {% block title %}{% endblock %}</title>


    {% block extra_head %}{% endblock %}
</head>

<body>

<div class="page-frame">

    <header class="top-nav">

        <img src="{{ url_for('static', filename='images/logo.png') }}"
             alt="Logo"
             class="nav-logo">

        <div class="top-nav-left">
            <a href="{{ url_for('home') }}"
               class="nav-tab {% if request.endpoint in ['home'] %}active{% endif %}">
                Home
            </a>

            <a href="{{ url_for('blog') }}"
               class="nav-tab {% if request.endpoint in ['blog', 'view_blog', 'new_blog', 'edit_blog'] %}active{% endif %}">
                Blog
            </a>

            <a href="{{ url_for('opinie') }}"
               class="nav-tab {% if request.endpoint == 'opinie' %}active{% endif %}">
                Opinie
            </a>

            <a href="{{ url_for('dialoog') }}"
               class="nav-tab {% if request.endpoint in ['dialoog', 'view_thread', 'new_dialoog'] %}active{% endif %}">
                Dialoog
            </a>

            <a href="{{ url_for('contact') }}"
               class="nav-tab {% if request.endpoint == 'contact' %}active{% endif %}">
                Contact
            </a>

            {% if user and (user.has_role('admin') or user.has_role('superadmin')) %}
                <a href="{{ url_for('admin') }}"
                   class="nav-tab {% if request.endpoint in ['admin', 'admin_detail'] %}active{% endif %}">
                    Admin
                </a>
            {% endif %}

        </div>

        <div class="top-nav-divider"></div>

        <div class="top-nav-right">

            {% if user %}
                <div class="d-flex flex-column align-items-center me-2">
                    <div class="top-nav-user mb-1">
                        Ingelogd als <strong>{{ user.username }}</strong>
                    </div>

                    <div class="d-flex gap-2">
                        <a href="{{ url_for('index') }}" class="nav-secondary">
                            Mijn gegevens
                        </a>
                        <a href="{{ url_for('logout') }}" class="nav-secondary primary">
                            Uitloggen
                        </a>
                    </div>
                </div>
            {% else %}
                <div class="d-flex gap-2">
                    <a href="{{ url_for('register') }}" class="nav-secondary primary">
                        Registreren
                    </a>
                    <a href="{{ url_for('login') }}" class="nav-secondary">
                        Inloggen
                    </a>
                </div>
            {% endif %}
        </div>

    </header>

    <div class="nav-underline"></div>

    {% if get_flashed_messages() %}
        <div class="alert alert-primary mb-3 text-center">
            {{ get_flashed_messages() | join(" ") }}
        </div>
    {% endif %}

    <main class="content-area">
        {% block main %}{% endblock %}
    </main>

    <footer>
        Â© 2025 Accountantzijn.nl
    </footer>

</div>
<script defer src="https://cdn.tiny.cloud/1/nvg3ndzh1qg2hmfddgvv090pum9okoxshvqwlee6vrthjnfo/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
<script defer src="{{ url_for('static', filename='js/main.js') }}"></script>
<body data-upload-image-url="{{ url_for('upload_image') }}"></body>
</html>
